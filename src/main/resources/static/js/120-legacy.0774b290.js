"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[120],{77120:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticClass:"bv-example-row mt-3"},[i("b-row",{staticClass:"mb-1"},[i("b-col",{staticClass:"text-left"},[i("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v("목록")])],1),i("b-col",{staticClass:"text-right"},[t.isWriter?i("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.moveModifyArticle}},[t._v("글수정")]):t._e(),t.isWriter?i("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteArticle}},[t._v("글삭제")]):t._e()],1)],1),i("b-row",{staticClass:"mb-1"},[i("b-col",[i("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h3>"+t.article.articleno+".\n        "+t.article.subject+"</h3><div><h6>작성자 : "+t.article.userid+"</div><div>"+t.article.regtime+"</div><div>조회수 : "+t.article.hit+"</h6></div>","border-variant":"dark","no-body":""}},[i("b-card-body",{staticClass:"text-left"},[i("div",{domProps:{innerHTML:t._s(t.message)}})])],1)],1)],1),i("hr"),!t.isReplied||t.isModifying?i("b-row",{staticClass:"mb-1"},[i("b-col",[this.userInfo?i("b-form",{on:{submit:t.onSubmit}},[i("b-form-group",{attrs:{id:"userid-group",label:"답변 작성자:","label-for":"userid"}},[i("b-form-input",{attrs:{id:"userid",type:"text",required:"",readonly:""},model:{value:t.userInfo.userid,callback:function(e){t.$set(t.userInfo,"userid",e)},expression:"userInfo.userid"}})],1),i("b-form-group",{attrs:{id:"reply-group",label:"답변 내용:","label-for":"reply"}},[i("b-form-textarea",{attrs:{id:"reply",placeholder:"내용 입력...",rows:"3","max-rows":"6"},model:{value:t.article.reply,callback:function(e){t.$set(t.article,"reply",e)},expression:"article.reply"}})],1),i("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[t._v("답글작성")]),i("b-button",{staticClass:"m-1",attrs:{type:"button",variant:"danger"},on:{click:t.cancleReply}},[t._v("취소")])],1):t._e()],1)],1):t._e(),t.isReplier&&!t.isModifying?i("b-row",{staticClass:"mb-1"},[i("b-col",{staticClass:"text-right"},[i("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.modifyReply}},[t._v("답글수정")]),i("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteReply}},[t._v("답글삭제")])],1)],1):t._e(),t.isReplied&&!t.isModifying?i("b-row",{staticClass:"mb-1"},[i("b-col",[i("b-card",{staticClass:"mb-2",attrs:{"header-html":"<div><h6>"+t.article.replier+"님의 답변</div><div>"+t.article.replyregtime+"</h6></div>","border-variant":"dark","no-body":""}},[i("b-card-body",{staticClass:"text-left"},[i("div",{domProps:{innerHTML:t._s(t.replymsg)}})])],1)],1)],1):t._e()],1)},a=[],n=i(4367),s=(i(69600),i(74916),i(23123),i(15306),i(60803)),l=i(34665),o=i(75748),c="memberStore",u={name:"QnaDetail",data:function(){return{article:{},isWriter:!1,isReplied:!1,isReplier:!1,isModifying:!1}},computed:(0,n.Z)((0,n.Z)({},(0,l.rn)(c,["userInfo"])),{},{message:function(){return this.article.content?this.article.content.split("\n").join("<br>"):""},replymsg:function(){return console.log(this.article.reply),this.article.reply?this.article.reply.split("\n").join("<br>"):""}}),created:function(){var t=this;(0,s.fq)(this.$route.params.articleno,(function(e){t.article=e.data,o.Z.get("/qna/hit/".concat(t.article.articleno)).then((function(){t.article.reply&&(t.isReplied=!0,t.userInfo&&t.article.replier===t.userInfo.userid&&(t.isReplier=!0)),t.userInfo&&t.userInfo.userid===t.article.userid&&(t.isWriter=!0)}))}),(function(t){console.log("삭제시 에러발생!!",t)}))},methods:{onSubmit:function(t){t.preventDefault();var e=!0,i="";!this.article.content&&(i="답변 내용을 입력해주세요",e=!1,this.$refs.content.focus()),e?this.submitReply():alert(i)},submitReply:function(){o.Z.post("/qna/reply/".concat(this.article.articleno),{articleno:this.article.articleno,replier:this.userInfo.userid,reply:this.article.reply}).then((function(t){var e=t.data,i="댓글 등록 처리시 문제가 발생했습니다.";"success"===e&&(i="댓글 등록이 완료되었습니다."),alert(i),location.reload(!0)}))},listArticle:function(){this.$router.push({name:"qnaList"})},moveModifyArticle:function(){this.$router.replace({name:"qnaModify",params:{articleno:this.article.articleno}})},deleteArticle:function(){var t=this;confirm("정말로 글을 삭제하시겠습니까?")&&(0,s.jX)(this.article.articleno,(function(){t.$router.push({name:"qnaList"})}))},modifyReply:function(){this.isModifying=!0},cancleReply:function(){this.isModifying=!1},deleteReply:function(){confirm("정말로 답글을 삭제하시겠습니까?")&&o.Z["delete"]("/qna/reply/delete/".concat(this.article.articleno)).then((function(t){var e=t.data,i="답글 삭제 처리시 문제가 발생했습니다.";"success"===e?(i="답글 삭제가 완료되었습니다.",alert(i),location.reload(!0)):alert(i)}))}}},d=u,f=i(1001),b=(0,f.Z)(d,r,a,!1,null,null,null),p=b.exports},60803:function(t,e,i){i.d(e,{fq:function(){return s},jC:function(){return n},jX:function(){return l}});i(38862);var r=i(86927),a=(0,r.b)();function n(t,e,i){a.get("/qna",{params:t}).then(e).catch(i)}function s(t,e,i){a.get("/qna/".concat(t)).then(e).catch(i)}function l(t,e,i){a.delete("/qna/".concat(t)).then(e).catch(i)}}}]);
//# sourceMappingURL=120-legacy.0774b290.js.map