"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[831],{8831:function(e,r,s){s.r(r),s.d(r,{default:function(){return c}});var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("b-container",{staticClass:"bv-example-row mt-3"},[s("b-row",[s("b-col",[s("b-alert",{attrs:{variant:"secondary",show:""}},[s("h3",[e._v("회원정보수정")])])],1)],1),s("b-row",[s("b-col",{attrs:{cols:"8"}},[s("b-card",{staticClass:"text-center mt-3",staticStyle:{"max-width":"40rem"},attrs:{align:"left"}},[s("b-form",{staticClass:"text-left"},[s("b-form-group",{attrs:{label:"아이디:","label-for":"userid"}},[s("b-form-input",{attrs:{id:"userid",required:"",placeholder:"아이디",readonly:""},model:{value:e.user.userid,callback:function(r){e.$set(e.user,"userid",r)},expression:"user.userid"}})],1),s("b-form-group",{attrs:{label:"새로운 비밀번호:","label-for":"userpwd"}},[s("b-form-input",{attrs:{type:"password",id:"userpwd",required:"",placeholder:"새로운 비밀번호"},on:{blur:e.pwdChk},model:{value:e.user.userpwd,callback:function(r){e.$set(e.user,"userpwd",r)},expression:"user.userpwd"}})],1),s("b-form-group",{attrs:{label:"새로운 비밀번호 확인:","label-for":"userpwdchk"}},[s("b-form-input",{attrs:{type:"password",id:"userpwdchk",required:"",placeholder:"비밀번호 확인"},on:{blur:e.pwdChk},model:{value:e.user.userpwdchk,callback:function(r){e.$set(e.user,"userpwdchk",r)},expression:"user.userpwdchk"}}),e.user.userpwdchk&&!e.pwdValidate?s("p",{staticClass:"pwdchkmsg"},[e._v(" 비밀번호가 일치하지 않습니다. ")]):e._e()],1),s("b-form-group",{attrs:{label:"이름:","label-for":"username"}},[s("b-form-input",{attrs:{type:"text",id:"username",required:"",placeholder:"이름"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.confirm.apply(null,arguments)}},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}})],1),s("b-form-group",{attrs:{label:"이메일:","label-for":"email"}},[s("b-form-input",{attrs:{type:"text",id:"email",required:"",placeholder:"이름"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.confirm.apply(null,arguments)}},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})],1),s("b-button",{staticClass:"m-1",attrs:{type:"button",variant:"primary"},on:{click:e.goModify}},[e._v("정보수정")]),s("b-button",{staticClass:"m-1",attrs:{type:"button",variant:"success"},on:{click:e.goInfo}},[e._v("돌아가기")])],1)],1)],1)],1)],1)},u=[],a=s(5748),i=s(4665);const l="memberStore";var n={name:"MemberRegister",data(){return{user:{userid:"",userpwd:"",userpwdchk:"",username:"",email:""},pwdValidate:!0}},created(){this.user.userid=this.userInfo.userid,this.user.username=this.userInfo.username,this.user.email=this.userInfo.email},computed:{...(0,i.rn)(l,["userInfo"])},methods:{...(0,i.nv)(l,["setUserInfo"]),pwdChk(){this.user.userpwd===this.user.userpwdchk?this.pwdValidate=!0:this.pwdValidate=!1},goModify(){console.log(this.user),""!=this.user.userpwd?""!=this.user.userpwdchk?this.pwdValidate?""!=this.user.username?""!=this.user.email?a.Z.put("/user/update",{userid:this.user.userid,userpwd:this.user.userpwd,username:this.user.username,email:this.user.email}).then((e=>{"success"==e.data?(this.setUserInfo({...this.userInfo,username:this.user.username,email:this.user.email}),alert("성공적으로 개인정보를 수정했습니다."),this.$router.push({name:"mypage"})):(alert("오류가 생겨 정보수정에 실패했습니다. 다시 시도해보세요!"),this.clearInput())})).catch((()=>{alert("오류가 생겨 정보수정에 실패했습니다. 다시 시도해보세요!"),this.clearInput()})):alert("이메일을 입력하세요."):alert("이름을 입력하세요."):alert("입력한 패스워드가 일치하지 않습니다."):alert("비밀번호를 한번 더 입력하세요."):alert("비밀번호를 입력하세요.")},clearInput(){this.user.userid=this.userInfo.userid,this.user.username=this.userInfo.username,this.user.email=this.userInfo.email,this.user.userpwd="",this.user.userpwdchk=""},goInfo(){this.$router.push({name:"mypage"})}}},o=n,d=s(1001),p=(0,d.Z)(o,t,u,!1,null,"21ffbafc",null),c=p.exports}}]);
//# sourceMappingURL=831.ab2d8f6a.js.map